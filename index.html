<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ | Telegram Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</h1>
            <p class="subtitle">–£—á–µ—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ –¥–ª—è –¥–≤–æ–∏—Ö</p>
        </header>

        <main>
            <section class="card" id="balance-section">
                <h2>üìä –û–±—â–∏–π –±–∞–ª–∞–Ω—Å</h2>
                <p class="total-amount">0 ‚ÇΩ</p>
                <div class="buttons">
    <button class="btn btn-income" onclick="openIncomeModal()">üì• –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</button>
    <button class="btn btn-expense" onclick="openExpenseModal()">üì§ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</button>
    <button class="btn btn-secondary" onclick="openTransactionsModal()">üìã –ò—Å—Ç–æ—Ä–∏—è</button>
                </div>
            </section>

            <section class="card" id="template-section">
                <h2>üìù –®–∞–±–ª–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</h2>
                <div id="template-list">
                    <!-- –®–∞–±–ª–æ–Ω—ã –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
                <button class="btn btn-secondary" onclick="openTemplateModal()">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
            </section>

            <section class="card" id="stats-section">
                <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-buttons">
                    <button class="btn btn-small" onclick="showStats('day')">–ó–∞ –¥–µ–Ω—å</button>
                    <button class="btn btn-small" onclick="showStats('month')">–ó–∞ –º–µ—Å—è—Ü</button>
                </div>
                <div id="stats-content"></div>
            </section>

            <section class="card" id="partners-section">
                <h2>üë• –ü–∞—Ä—Ç–Ω–µ—Ä—ã</h2>
                <p>–¢–∞–Ω—è: <span id="partner1-balance">0 ‚ÇΩ</span></p>
                <p>–°–∞—à–∞: <span id="partner2-balance">0 ‚ÇΩ</span></p>
                <button class="btn btn-secondary" onclick="openPartnerModal()">üîó –î–∞—Ç—å –¥–æ—Å—Ç—É–ø –ø–∞—Ä—Ç–Ω–µ—Ä—É</button>
            </section>
        </main>

        <footer>
            <p class="hint">–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ (localStorage)</p>
        </footer>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ—Ö–æ–¥–∞ -->
<div id="income-modal" class="modal">
    <div class="modal-content">
        <h3>üì• –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Ö–æ–¥</h3>
        <input type="number" id="income-amount" placeholder="–°—É–º–º–∞" min="1" step="100">
        <textarea id="income-description" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="closeModal('income-modal')">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-income" onclick="submitIncome()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–∞—Å—Ö–æ–¥–∞ -->
<div id="expense-modal" class="modal">
    <div class="modal-content">
        <h3>üì§ –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</h3>
        <input type="number" id="expense-amount" placeholder="–°—É–º–º–∞" min="1" step="100">
        <input type="text" id="expense-category" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è">
        <select id="expense-person">
            <option value="–¢–∞–Ω—è">–¢–∞–Ω—è</option>
            <option value="–°–∞—à–∞">–°–∞—à–∞</option>
        </select>
        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="closeModal('expense-modal')">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-expense" onclick="submitExpense()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ -->
<div id="template-modal" class="modal">
    <div class="modal-content">
        <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</h3>
        <div id="template-edit-list">
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—Å—è -->
        </div>
        <button class="btn btn-small" onclick="addTemplateRow()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É</button>
        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="closeModal('template-modal')">–û—Ç–º–µ–Ω–∞</button>
            <button class="btn btn-income" onclick="saveTemplate()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div id="stats-modal" class="modal">
    <div class="modal-content">
        <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
        <div class="stats-period">
            <button class="btn-period active" onclick="changeStatsPeriod('day')">–î–µ–Ω—å</button>
            <button class="btn-period" onclick="changeStatsPeriod('week')">–ù–µ–¥–µ–ª—è</button>
            <button class="btn-period" onclick="changeStatsPeriod('month')">–ú–µ—Å—è—Ü</button>
        </div>
        <canvas id="stats-chart"></canvas>
        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="closeModal('stats-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
<div id="transactions-modal" class="modal">
    <div class="modal-content">
        <h3>üìã –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
        <div id="transactions-list"></div>
        <div class="modal-buttons">
            <button class="btn btn-secondary" onclick="closeModal('transactions-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
